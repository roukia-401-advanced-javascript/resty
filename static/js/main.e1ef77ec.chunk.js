(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{23:function(e,t,a){e.exports=a(42)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(20),r=a.n(s),o=(a(28),a(12)),c=a.n(o),i=a(14),u=a(6),d=a(7),h=a(9),m=a(8),p=(a(30),a(10)),f=a(1),g=(a(31),"get"),E=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handelInput=function(e){var t=e.target.value;n.setState({url:t})},n.handleMethod=function(e){g=e.target.value,n.setState({method:g})},n.handelBody=function(e){var t=e.target.value;n.setState({body:t})},n.handleClick=function(){var e=Object(i.a)(c.a.mark((function e(t){var a,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.props.toggle(),n.savedToLocalStorage(),a=n.state.url,l={method:n.state.method,headers:{"Content-Type":"application/json"},body:"get"===n.state.method||"delete"===n.state.method?null:JSON.stringify(n.state.body)},n.props.fetchData(a,l),n.props.handelSavedRequests(n.state.savedRequests);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.savedToLocalStorage=function(){n.state.savedRequests.push({method:n.state.method,url:n.state.url}),console.log("this is the savedReauest array og objects :",n.state.savedRequests),localStorage.setItem("history",JSON.stringify(n.state.savedRequests)),console.log("this is the savedReauest array og objects after saving to local storage :",n.state.savedRequests)},n.state={url:"",method:"",savedRequests:JSON.parse(localStorage.getItem("history"))||[],body:null},n}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("main",null,l.a.createElement("div",{id:"inputDiv"},l.a.createElement("p",null,"URL: "),l.a.createElement("input",{type:"text",placeholder:"https://localhost:3000/categories",onChange:this.handelInput}),l.a.createElement("button",{onClick:this.handleClick},"Go!")),l.a.createElement("form",{onClick:this.handleMethod,id:"form"},l.a.createElement("input",{type:"radio",id:"get",name:"method",value:"get",defaultChecked:!0}),l.a.createElement("label",{htmlFor:"get"},"GET"),l.a.createElement("input",{type:"radio",id:"post",name:"method",value:"post"}),l.a.createElement("label",{htmlFor:"post"},"POST"),l.a.createElement("input",{type:"radio",id:"put",name:"method",value:"put"}),l.a.createElement("label",{htmlFor:"put"},"PUT"),l.a.createElement("input",{type:"radio",id:"delete",name:"method",value:"delete"}),l.a.createElement("label",{htmlFor:"delete"},"DELETE")),l.a.createElement("section",{id:"textareaSection"},l.a.createElement("textarea",{placeholder:"Enter the body in Json format...",onChange:this.handelBody})))}}]),a}(l.a.Component),v=(a(32),function(){return l.a.createElement("footer",null,"&copy 2020")}),b=(a(33),function(){return l.a.createElement("header",null,l.a.createElement("h1",null," RESTy"),l.a.createElement("nav",{className:"nav"},l.a.createElement("ul",{className:"ulHeader"},l.a.createElement("li",null,l.a.createElement(p.b,{"data-testid":"home",to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(p.c,{"data-testid":"history",to:"/history"},"History")),l.a.createElement("li",null,l.a.createElement(p.c,{"data-testid":"help",to:"/help"},"Help")))))}),y=(a(39),function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return e?t:null}),R=function(e){return l.a.Children.map(e.children,(function(t){return l.a.cloneElement(t,{name:"sample",condition:e.condition})}))},k=function(e){return y(e.condition,e.children)},j=function(e){return y(!e.condition,e.children)},q=a(22),O=a.n(q),S=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={},n}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement("section",null,l.a.createElement(R,{condition:!this.props.loading},l.a.createElement(k,null,l.a.createElement("div",{"data-testid":"results"},l.a.createElement(O.a,{src:this.props,theme:"monokai"}))),l.a.createElement(j,null,l.a.createElement("div",{className:"about"},l.a.createElement("a",{className:"bg_links social portfolio",href:"https://www.rafaelalucas.com",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("span",{className:"icon"})),l.a.createElement("a",{className:"bg_links social dribbble",href:"https://dribbble.com/rafaelalucas",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("span",{className:"icon"})),l.a.createElement("a",{className:"bg_links social linkedin",href:"https://www.linkedin.com/in/rafaelalucas/",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("span",{className:"icon"}))),l.a.createElement("div",{className:"content"},l.a.createElement("div",{className:"loading"},l.a.createElement("p",null,"loading"),l.a.createElement("span",null))))))}}]),a}(l.a.Component);a(40);var w=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",{id:"h2Help"},"Welcome To Help Page "),l.a.createElement("h3",{id:"h3Help"},"Here are the steps to run the Resty application:"),l.a.createElement("ol",{className:"d"},l.a.createElement("li",{className:"helpList"},"Enter url"),l.a.createElement("li",{className:"helpList"}," choose the method"),l.a.createElement("li",{className:"helpList"},"Enter the body if required"),l.a.createElement("li",{className:"helpList"},"Press Go button"),l.a.createElement("li",{className:"helpList"},"View the Results"),l.a.createElement("li",{className:"helpList"},"View all your history urls: Go to the history page and press the method button to view its results again ")))},N=(a(41),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).state={savedRequests:[]},n}return Object(d.a)(a,[{key:"handleClick",value:function(e){this.props.toggle(),console.log("savedRequests",this.props.savedRequests),console.log("savedRequests[i]",this.props.savedRequests[e]);var t=this.props.savedRequests[e].url,a={method:this.props.savedRequests[e].method,headers:{"Content-Type":"application/json"},body:"get"===this.props.savedRequests[e].method||"delete"===this.props.savedRequests[e].method?null:JSON.stringify(this.props.body)};this.props.fetchData(t,a)}},{key:"render",value:function(){var e=this;return l.a.createElement("section",{id:"historySection"},l.a.createElement("h1",{id:"urlHistoryHeader"},"URL History"),this.props.savedRequests.map((function(t,a){return l.a.createElement("li",{key:a},l.a.createElement(p.b,{to:"/"},l.a.createElement("button",{id:"historyMethodButton",onClick:e.handleClick.bind(e,a)},t.method)),l.a.createElement("p",{id:"historyUrl"},t.url),l.a.createElement("br",null))})))}}]),a}(l.a.Component)),C=function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).toggleLoading=function(){n.setState({loading:!n.state.loading}),console.log("loading in toggleLoading app.js....",n.state.loading)},n.handelUpdate=function(e,t,a){n.setState({count:e,results:t,headers:a})},n.fetchData=function(){var e=Object(i.a)(c.a.mark((function e(t,a){var l,s,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return l=e.sent,console.log("my data after fetch :",l),e.next=6,l.json();case 6:s=e.sent,console.log("my data after converting to json :",s),r=s.count,o=s.results,i={},l.headers.forEach((function(e,t){return i[t]=e})),console.log("raw.headers--------",l.headers),n.handelUpdate(r,o,i),n.toggleLoading();case 15:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),n.handelSavedRequests=function(e){console.log("the savedResquest from app.js before :",e),n.setState({savedRequests:e}),console.log("the savedResquest from app.js after :",e)},n.state={count:0,results:null,headers:null,loading:!1,savedRequests:[]},n}return Object(d.a)(a,[{key:"render",value:function(){return l.a.createElement(p.a,null,l.a.createElement(b,null),l.a.createElement(f.c,null,l.a.createElement(f.a,{exact:!0,path:"/"},l.a.createElement(E,{loading:this.state.loading,handelUpdate:this.handelUpdate.bind(this),fetchData:this.fetchData.bind(this),toggle:this.toggleLoading.bind(this),handelSavedRequests:this.handelSavedRequests}),l.a.createElement(S,{loading:this.state.loading,headers:this.state.headers,count:this.state.count,results:this.state.results})),l.a.createElement(f.a,{exact:!0,path:"/history"},l.a.createElement(N,{savedRequests:this.state.savedRequests,fetchData:this.fetchData.bind(this),toggle:this.toggleLoading.bind(this)})),l.a.createElement(f.a,{exact:!0,path:"/help"},l.a.createElement(w,null))),l.a.createElement(v,null))}}]),a}(l.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.e1ef77ec.chunk.js.map